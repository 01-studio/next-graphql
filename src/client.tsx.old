import { createClient, Provider as URQLProvider, Client } from "urql"

export const client: Client = createClient({
  url: "/api/graphql"
  // fetchOptions: () => {
  //   const token = getToken()
  //   return {
  //     headers: { authorization: token ? `Bearer ${token}` : "" },
  //   }
  // },
})

export const Provider = ({ children }) => {
  return <URQLProvider value={client}>{children}</URQLProvider>
}

// ////////////////////////////////////////////////////////////

// import { gql, request } from "graphql-request"

// export const client = (query, variables?) =>
//   request(
//     "/api/graphql",
//     gql`
//       ${query}
//     `,
//     variables
//   )

// export { gql } from "graphql-request"
